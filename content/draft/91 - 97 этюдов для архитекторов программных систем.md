+++
title='Небоскребы не масштабируются'
date=2024-07-10T00:00:00-07:00
draft=true
categories=[]
tags=[]
cover_image='/images/cover/knoxwelle__2021-08-08T051054.000Z.jpg'
+++
Небоскребы 
не масштабируются
Майкл Найгард
Разработку программных продуктов часто сравнивают со строительством небоскребов, дамб и дорог. В некоторых важных аспектах это уместное сравнение.
Самая трудная часть строительства не проектирование здания, которое будет стоять на своем месте после завершения, а проработка процесса строительства. Этот процесс начнется с пустой площадки и завершится готовым
зданием. За это время каждый рабочий должен иметь возможность применить свои профессиональные навыки, а частично возведенное строение
должно оставаться устойчивым. Мы можем извлечь из этой аналогии полезный урок в том, что касается развертывания больших интегрированных систем. (А к категории «интегрированных» относятся практически все
корпоративные и веб-приложения!) Традиционное развертывание по схеме
«Большого взрыва» выглядит так, словно вы привезли на пустырь груду балок и брусьев, подбросили их в воздух и ожидаете, что они сами сложатся
в форме здания.
Вместо этого следует планировать развертывание по одному компоненту.
Такой подход обладает двумя заметными преимуществами как при замене
существующей системы, так и при строительстве с нуля.
Во-первых, при развертывании программного продукта мы попадаем в зону кумулятивного технического риска, воплощенного в программном коде.
При последовательном покомпонентном развертывании этот технический
риск распределяется по более длительному промежутку времени. Каждый
компонент получает самостоятельный шанс вызвать сбой при вводе в эксплуатацию, что позволяет нам доводить компоненты до ума по отдельности.
Во-вторых, последовательное развертывание заставляет нас создавать четко определенные интерфейсы между компонентами. Развертывание одного
компонента новой системы часто подразумевает его обратную интеграцию
со старой системой. Следовательно, к моменту завершения развертывания
каждый компонент успеет поработать с двумя разными системами: исходной и замещающей. Тем самым покомпонентное развертывание автоматически улучшает возможность повторного использования компонентов. На
практике это приводит также к увеличению сцепления (coherence) и уменьшению связанности (coupling) системы.
С другой стороны, в ряде важных аспектов аналогия со строительством
не работает. В частности, материальность реального мира усиливает роль
предварительного планирования, заставляя нас использовать метод «водопада». В конце концов, никто не начинает строить небоскреб, не зная заранее, сколько места он займет и сколько этажей в нем будет. Добавлять этажи
к существующему зданию слишком дорого и рискованно, поэтому мы стараемся избегать таких крайностей. Местонахождение или высота единожды
спроектированного небоскреба уже не должны изменяться. Небоскребы не
масштабируются.
Мы не можем с легкостью расширить дорогу новыми полосами, но знаем,
как легко включить в программу новые функции. Это не дефект процесса
разработки, а достоинство той среды, в которой мы работаем. Ничто не мешает нам выпустить приложение с минимальной функциональностью, если
пользователи достаточно ценят эти функции, чтобы заплатить за них. На
практике чем раньше вы выпустите свое приложение, тем выше будет чистая стоимость итогового продукта.
На первый взгляд ранний выпуск противоречит подходу «пошагового развертывания», но в действительности они весьма хорошо сочетаются. Ранний выпуск отдельных компонентов означает, что каждый компонент может проходить итеративную разработку независимо от других компонентов.
Более того, этот подход заставит вас проработать такие проблемные вопросы, как постоянная доступность в ходе развертывания и контроль версий
протоколов.
Нечасто встречаются методы, обеспечивающие более высокую коммерческую ценность в сочетании с улучшением архитектурных качеств, но раннее
развертывание отдельных компонентов обладает обоими достоинствами.