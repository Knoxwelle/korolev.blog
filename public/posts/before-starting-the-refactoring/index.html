<!DOCTYPE html>
<html lang="en-us">
    
    


    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    
    <link rel="canonical" href="http://localhost:1313/posts/before-starting-the-refactoring/">
    
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.125.4">

    
    
    

<title>Before starting the refactoring • Korolev Blog</title>


<meta name="twitter:card" content="summary"><meta name="twitter:title" content="Before starting the refactoring">
<meta name="twitter:description" content="Sooner or later, every programmer has to perform refactoring of existing code. But before diving in, consider a few things that can save you and your colleagues a lot of time (and spare you from headaches):
It is best to start refactoring by assessing the state of the existing code in the project and the tests written for it. This way, you can identify the strengths and weaknesses of the code in its current state, to preserve its strong points and avoid the mistakes already made. Everyone thinks their system will be better than the current one&hellip; until it turns out that the new code is no better, and maybe even worse, than the previous version, all because we did not learn from the mistakes made in the old system.">

<meta property="og:url" content="http://localhost:1313/posts/before-starting-the-refactoring/">
  <meta property="og:site_name" content="Korolev Blog">
  <meta property="og:title" content="Before starting the refactoring">
  <meta property="og:description" content="Sooner or later, every programmer has to perform refactoring of existing code. But before diving in, consider a few things that can save you and your colleagues a lot of time (and spare you from headaches):
It is best to start refactoring by assessing the state of the existing code in the project and the tests written for it. This way, you can identify the strengths and weaknesses of the code in its current state, to preserve its strong points and avoid the mistakes already made. Everyone thinks their system will be better than the current one… until it turns out that the new code is no better, and maybe even worse, than the previous version, all because we did not learn from the mistakes made in the old system.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-14T00:00:00-07:00">
    <meta property="article:modified_time" content="2024-07-14T00:00:00-07:00">
    <meta property="article:tag" content="Code">
    <meta property="article:tag" content="Tests">
    <meta property="article:tag" content="System">
    <meta property="article:tag" content="Mistakes">
    <meta property="article:tag" content="Changes">


    






<link rel="stylesheet" href="/scss/hyde-hyde.f30fcebc5d51fdeafdea6b0b8ea59275aca5e3e80f12c48e01e9b1a222e0d01d.css" integrity="sha256-8w/OvF1R/er96msLjqWSdayl4&#43;gPEsSOAemxoiLg0B0=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    
    

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="http://localhost:1313/">
        
          Korolev Blog
        
        </a>
      </span>
      
      
        <div class="author-image">
          <img src="https://www.gravatar.com/avatar/215e21c23df7102de817dc98926135af?s=240&d=mp" class="img--circle img--headshot element--center" alt="gravatar">
        </div>
      
      <p class="site__description">
         101, my name is Stan Korolev, Ph.D Software Developer in Vancouver, BC 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Korolev Blog</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/">
						<span>Home</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/posts/">
						<span>Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/categories/">
						<span>Categories</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/tags/">
						<span>Tags</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/resume/resume">
						<span>Resume</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/about/about">
						<span>About</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	
	
	
	
	
	
	
	
	
	<a href="https://instagram.com/knoxwelle" rel="me"><i class="fab fa-instagram fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://linkedin.com/in/korolevst" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
	
	
	
	
</section>

      </div>
    </div>
    


  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>Before starting the refactoring</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Jul 14, 2024
    
    
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="/tags/code">code</a>
           
      
          <a class="badge badge-tag" href="/tags/tests">tests</a>
           
      
          <a class="badge badge-tag" href="/tags/system">system</a>
           
      
          <a class="badge badge-tag" href="/tags/mistakes">mistakes</a>
           
      
          <a class="badge badge-tag" href="/tags/changes">changes</a>
          
      
    
    
    <br/>
    <i class="fas fa-clock"></i> 3 min read
    <br/>
    <div class="my-12">
      <img src="/images/cover/knoxwelle__2017-01-15T081122.000Z.jpg">
        
        
    </div>
</div>


  </header>
  
  
  <div class="post">
    <p>Sooner or later, every programmer has to perform refactoring of existing code. But before diving in, consider a few things that can save you and your colleagues a lot of time (and spare you from headaches):</p>
<ul>
<li>
<p>It is best to start refactoring by assessing the state of the existing code in the project and the tests written for it. This way, you can identify the strengths and weaknesses of the code in its current state, to preserve its strong points and avoid the mistakes already made. Everyone thinks their system will be better than the current one&hellip; until it turns out that the new code is no better, and maybe even worse, than the previous version, all because we did not learn from the mistakes made in the old system.</p>
</li>
<li>
<p>Resist the urge to rewrite everything from scratch. It is best to reuse as much code as possible. No matter how ugly it may seem, this code has already been tested, reviewed, and so on. Throwing away old code, especially if it has been used in a production system, means discarding months (or years) of work on tested and battle-hardened code that may contain unknown workarounds or bug fixes. If you don&rsquo;t take this into account, the new code may exhibit the same mysterious bugs that have already been fixed in the old code. As a result, you will waste a lot of time and effort, as well as the knowledge accumulated over the years.</p>
</li>
<li>
<p>A multitude of small changes is better than one large one. By making small changes, it is easier to assess their impact on the system using standard feedback channels, such as testing. It&rsquo;s disheartening to see a good hundred unit tests &ldquo;fail&rdquo; after a change is made. The irritation and anxiety caused by such results can lead you to make questionable decisions. It&rsquo;s much easier to cope if only one or two tests &ldquo;fail&rdquo; at any given moment.</p>
</li>
<li>
<p>After each development iteration, it is important to ensure that all existing tests pass successfully. If the existing tests do not cover the changes you made, create new tests. Do not thoughtlessly discard tests from old code. It may seem at first glance that some of them are not applicable to the new system architecture, but it is definitely worth taking the time to understand the purpose of each specific test.</p>
</li>
<li>
<p>Leave personal preferences and ego aside. Why fix something that already works? If the style or organization of the code contradicts your tastes, it is not a sufficient reason for refactoring. Just as your confidence that you can write better code than the previous programmer.</p>
</li>
<li>
<p>The emergence of new technology is not a compelling enough reason to conduct refactoring. It is very bad when refactoring is undertaken solely because the existing code is years behind the latest cutting-edge technologies, and we think that a new language or platform will allow us to solve the problem much more elegantly. It is best to leave your system&rsquo;s code alone, except in cases where a cost-benefit analysis shows that a new language or platform can provide significant gains in functionality, ease of maintenance, or performance.</p>
</li>
<li>
<p>Remember that people make mistakes. A new code structure does not always guarantee that the new code will be better than the previous one or at least of the same quality. I have witnessed and participated in several failed attempts at reorganization. It was not pleasant, but people are prone to making mistakes.</p>
</li>
</ul>

  </div>
  

<div class="navigation navigation-single">
    
    <a href="/posts/the-importance-of-code-formatting/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">The importance of code formatting</span>
    </a>
    
    
    <a href="/posts/write-code-as-if-you-will-be-maintaining-it-for-the-rest-of-your-life/" class="navigation-next">
      <span class="navigation-tittle">Write code as if you will be maintaining it for the rest of your life</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  

  
    


</article>


        </div>
        
    

  
  
  
    
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-XPYM1BW8ZT"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-XPYM1BW8ZT');
        }
      </script>
    
  



<script defer src="https://use.fontawesome.com/releases/v5.12.1/js/all.js" integrity="sha384-ZbbbT1gw3joYkKRqh0kWyRp32UAvdqkpbLedQJSlnI8iLQcFVxaGyrOgOJiDQTTR" crossorigin="anonymous"></script>




    



    </body>
</html>
